<!DOCTYPE html>
<html>
<head>
    <title>Tools a Cowboy Would Use</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#7E202B">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600;700&family=Inter:wght@600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }

        html, body {
            margin: 0;
            padding: 0;
            background-color: #7E202B;
            font-family: 'EB Garamond', serif;
            overflow-x: hidden;
            width: 100%;
        }

        body.color-green {
            background-color: #1F2C26;
        }

        body.color-navy {
            background-color: #001E32;
        }

        .hero-section {
            min-height: 100svh;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
            background-color: #7E202B;
            position: relative;
            overflow: hidden;
        }


        .color-circle {
            position: fixed;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: grab;
            border: 2px solid white;
            transition: all 0.2s ease;
            z-index: 1000;
            user-select: none;
        }

        .color-circle:hover {
            transform: scale(1.1);
            border-color: #BE5D1D;
        }

        .color-circle.dragging {
            cursor: grabbing;
            transform: scale(1.1);
            transition: none;
            z-index: 1001;
        }

        .color-circle.red {
            background-color: #7E202B;
            top: 44px;
            right: 44px;
        }

        .color-circle.green {
            background-color: #1F2C26;
            top: 76px;
            right: 26px;
        }

        .color-circle.navy {
            background-color: #001E32;
            top: 76px;
            right: 62px;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        .hero-section.color-red {
            background-color: #7E202B;
        }

        .hero-section.color-green {
            background-color: #1F2C26;
        }

        .hero-section.color-navy {
            background-color: #001E32;
        }

        .substack-btn {
            position: absolute;
            top: 30px;
            left: 54px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            font-weight: 500;
            color: white;
            text-decoration: underline;
            transition: color 0.2s ease;
            z-index: 10;
        }

        .substack-btn:hover {
            color: #BE5D1D;
        }

        .instagram-btn {
            position: absolute;
            top: 30px;
            left: 20px;
            display: inline-flex;
            align-items: center;
            color: white;
            transition: color 0.2s ease;
            z-index: 10;
        }

        .instagram-btn:hover {
            color: #BE5D1D;
        }

        .instagram-icon {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .substack-icon {
            width: 18px;
            height: 18px;
            background-color: white;
            border-radius: 6px;
            flex-shrink: 0;
        }


        .hero-section h1 {
            cursor: default;
        }

        .hero-section .tagline {
            cursor: default;
        }

        .letter {
            display: inline-block;
            transition: color 0.2s ease;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="white" stroke="none"><path d="M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z"/><path d="M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7"/><path d="M14.5 17.5 4.5 15"/></svg>') 32 32, pointer;
        }

        .letter:hover {
            animation: none;
        }

        .letter.fade-out {
            animation: fadeBackToWhite 0.5s ease 0.5s forwards;
        }

        @keyframes fadeBackToWhite {
            from {
                color: #BE5D1D;
            }
            to {
                color: white;
            }
        }


        .app-section {
            min-height: 100vh;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 60px;
            position: relative;
            overflow: hidden;
        }

        .dawn-section {
            background-color: #ffffff;
        }

        .dusk-section {
            background-color: #ffffff;
        }

        .section-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px;
            max-width: 1000px;
            width: 100%;
            overflow-x: hidden;
            box-sizing: border-box;
            text-align: center;
        }

        .section-text {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            text-align: center;
        }

        .section-media {
            flex: 1;
            display: flex;
            justify-content: center;
        }

        .logo {
            width: 120px;
            height: auto;
        }

        h1 {
            font-family: 'EB Garamond', serif;
            color: white;
            font-size: 64px;
            font-weight: 700;
            text-align: center;
            margin: 0;
            padding: 20px;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            word-wrap: break-word;
            line-height: 1.1;
        }

        .tagline {
            font-family: 'EB Garamond', serif;
            color: white;
            font-size: 32px;
            font-weight: 400;
            text-align: center;
            margin: 0;
            opacity: 0.8;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            word-wrap: break-word;
            line-height: 1.1;
        }

        .location {
            font-family: 'Inter', sans-serif;
            color: white;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            margin: 10px 0 0 0;
            opacity: 0.6;
        }

        .app-logo {
            width: 100px;
            height: 100px;
            border-radius: 28px;
            object-fit: cover;
            outline: 1px solid rgba(0, 0, 0, 0.12);
            outline-offset: -1px;
            margin-bottom: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .section-title {
            font-family: 'Inter', sans-serif;
            font-size: 56px;
            font-weight: 700;
            margin: 0;
            color: #333;
        }

        .section-subtitle {
            font-family: 'Inter', sans-serif;
            font-size: 20px;
            font-weight: 600;
            text-align: left;
            margin: 10px 0;
            color: #666666;
        }

        .app-store-badge {
            width: 180px;
            height: auto;
            margin-top: 20px;
        }

        .learn-more-btn {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            font-weight: 600;
            color: #000;
            text-decoration: underline;
            margin-top: 20px;
            transition: color 0.2s ease;
        }

        .learn-more-btn:hover {
            color: #BE5D1D;
        }

        .external-arrow {
            width: 18px;
            height: 18px;
            stroke: currentColor;
            stroke-width: 2.5;
            fill: none;
        }

        .view-tool-icon {
            width: 18px;
            height: 18px;
            background-color: #333;
            border-radius: 6px;
            flex-shrink: 0;
        }

        .learn-more-btn:hover .view-tool-icon {
            background-color: #BE5D1D;
        }

        .section-number {
            position: absolute;
            top: 60px;
            right: 60px;
            font-family: 'EB Garamond', serif;
            font-size: 16px;
            font-weight: 400;
            color: #000;
        }
        
        .dawn-section .section-number {
            color: #000;
            font-size: 32px;
        }
        
        .dawn-section .section-text {
            position: relative;
        }
        
        .dawn-text-number {
            font-family: 'EB Garamond', serif;
            font-size: 32px;
            font-weight: 500;
            color: #000;
            margin-top: 20px;
        }

        .hero-video {
            max-width: 300px;
            max-height: 400px;
            height: auto;
            object-fit: contain;
        }

        @media (max-width: 768px) {
            .hero-section {
                min-height: 100svh;
                gap: 20px;
            }
            
            h1 {
                font-size: 28px;
                font-weight: 600;
                padding: 0;
                width: 100%;
                max-width: 100%;
                box-sizing: border-box;
                word-wrap: break-word;
            }
            
            .tagline {
                font-size: 20px;
                width: 100%;
                max-width: 100%;
                box-sizing: border-box;
                word-wrap: break-word;
            }
            
            .location {
                font-size: 14px;
            }
            
            .logo {
                width: 80px;
            }

            .app-section {
                padding: 20px;
            }

            .section-number {
                top: 20px;
                right: 20px;
            }

            .section-content {
                flex-direction: column;
                gap: 40px;
                text-align: center;
            }

            .section-text {
                align-items: center;
                text-align: center;
            }

            .section-text > div {
                justify-content: center !important;
            }

            .section-title {
                font-size: 42px;
            }

            .section-subtitle {
                font-size: 18px;
                text-align: center;
            }

            .app-logo {
                width: 80px;
                height: 80px;
                border-radius: 20px;
                margin-bottom: 0;
            }

            .app-store-badge {
                width: 140px;
                margin-top: 16px;
            }

            .hero-video {
                max-width: 80%;
                max-height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="hero-section">
        <a href="https://blog.toolsacowboywoulduse.com" target="_blank" class="substack-btn">
            Get Notified
            <svg class="external-arrow" viewBox="0 0 24 24">
                <path d="M7 17L17 7" />
                <path d="M7 7h10v10" />
            </svg>
        </a>
        <a href="https://www.instagram.com/tools_a_cowboy_would_use/" target="_blank" class="instagram-btn">
            <svg class="instagram-icon" viewBox="0 0 24 24">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
            </svg>
        </a>
        <button class="color-circle red" data-color="red"></button>
        <button class="color-circle green" data-color="green"></button>
        <button class="color-circle navy" data-color="navy"></button>
        <h1>Tools a Cowboy Would Use</h1>
        <p class="tagline">making tools people love</p>
    </div>

    <div class="app-section dawn-section">
        <div class="section-number">01</div>
        <div class="section-content">
            <div class="section-text">
                <img src="images/Sun_App_logo_3 1.png" alt="Dawn and Dusk App Logo" class="app-logo">
            </div>
            <div class="section-media">
                <a href="01-dawnanddusk/" target="_blank">
                    <video class="hero-video" autoplay loop muted playsinline>
                        <source src="images/Comp 1.webm" type="video/webm">
                        Your browser does not support the video tag.
                    </video>
                </a>
            </div>
        </div>
    </div>

    <script>
        // Color system with three brand colors
        const brandColors = ['red', 'green', 'navy'];
        const colorValues = {
            red: '#7E202B',
            green: '#1F2C26',
            navy: '#001E32'
        };

        // Randomize initial state on page load
        document.addEventListener('DOMContentLoaded', function() {
            const randomColor = brandColors[Math.floor(Math.random() * brandColors.length)];
            setColor(randomColor);

            // Setup intersection observer for theme color changes
            const themeColor = document.querySelector('meta[name="theme-color"]');
            const heroSection = document.querySelector('.hero-section');
            const dawnSection = document.querySelector('.dawn-section');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (entry.target === dawnSection) {
                            // Dawn section is visible - set to white
                            themeColor.content = '#ffffff';
                        } else if (entry.target === heroSection) {
                            // Hero section is visible - set to current hero color
                            const body = document.body;
                            if (body.classList.contains('color-green')) {
                                themeColor.content = colorValues.green;
                            } else if (body.classList.contains('color-navy')) {
                                themeColor.content = colorValues.navy;
                            } else {
                                themeColor.content = colorValues.red;
                            }
                        }
                    }
                });
            }, {
                threshold: 0.5 // Trigger when 50% of section is visible
            });

            observer.observe(heroSection);
            observer.observe(dawnSection);

            // Setup draggable circles
            setupDraggableCircles();

            // Wrap each letter in a span for individual hover effects
            function wrapLetters(element) {
                const text = element.textContent;
                const wrappedText = text.split('').map(char => {
                    if (char === ' ') {
                        return ' ';
                    }
                    return `<span class="letter">${char}</span>`;
                }).join('');
                element.innerHTML = wrappedText;
            }

            // Apply letter wrapping to hero text elements
            const heroTitle = document.querySelector('.hero-section h1');
            const heroTagline = document.querySelector('.hero-section .tagline');
            
            if (heroTitle) wrapLetters(heroTitle);
            if (heroTagline) wrapLetters(heroTagline);

            // Define color palette - wide spectrum of vibrant colors
            const colors = [
                '#FF4444', // Bright Red
                '#FF6644', // Coral Red
                '#FF8844', // Bright Orange
                '#FFAA44', // Amber
                '#FFCC44', // Gold
                '#FFFF44', // Bright Yellow
                '#CCFF44', // Yellow-Green
                '#88FF44', // Bright Lime
                '#66FF44', // Spring Green
                '#44FF44', // Bright Green
                '#44FF66', // Mint Green
                '#44FF88', // Sea Green
                '#44FFAA', // Aqua Green
                '#44FFCC', // Turquoise
                '#44FFFF', // Bright Cyan
                '#44CCFF', // Light Blue
                '#4488FF', // Bright Sky Blue
                '#4466FF', // Electric Blue
                '#4444FF', // Bright Blue
                '#6644FF', // Royal Purple
                '#8844FF', // Bright Purple
                '#AA44FF', // Violet
                '#CC44FF', // Purple-Pink
                '#FF44FF', // Bright Magenta
                '#FF44CC', // Hot Pink
                '#FF4488', // Bright Pink
                '#FF4466', // Rose Pink
                '#FF6688', // Salmon Pink
                '#FF88AA', // Light Pink
                '#FFAACC'  // Pastel Pink
            ];

            // Add hover event listeners to handle color changes
            document.addEventListener('mouseover', function(e) {
                if (e.target.classList.contains('letter')) {
                    e.target.classList.remove('fade-out');
                    // Set random color on hover
                    const randomColor = colors[Math.floor(Math.random() * colors.length)];
                    e.target.style.color = randomColor;
                }
            });

            document.addEventListener('mouseout', function(e) {
                if (e.target.classList.contains('letter')) {
                    e.target.classList.add('fade-out');
                }
            });
        });

        function setColor(colorName) {
            const heroSection = document.querySelector('.hero-section');
            const body = document.body;
            const themeColor = document.querySelector('meta[name="theme-color"]');
            
            // Remove all color classes
            brandColors.forEach(color => {
                heroSection.classList.remove(`color-${color}`);
                body.classList.remove(`color-${color}`);
            });
            
            // Add new color class
            heroSection.classList.add(`color-${colorName}`);
            body.classList.add(`color-${colorName}`);
            
            // Update theme color for browser UI
            themeColor.content = colorValues[colorName];
        }

        function changeColor(colorName) {
            setColor(colorName);
        }

        function setupDraggableCircles() {
            const circles = document.querySelectorAll('.color-circle');
            
            circles.forEach(circle => {
                let isDragging = false;
                let startTime = 0;
                let startPos = { x: 0, y: 0 };
                let currentPos = { x: 0, y: 0 };
                let velocity = { x: 0, y: 0 };
                let lastPos = { x: 0, y: 0 };
                let lastTime = 0;
                let animationFrame = null;

                // Physics constants
                const friction = 0.95;
                const throwMultiplier = 0.3;
                const bounceReduction = 0.7;

                function getMousePos(e) {
                    return {
                        x: e.clientX || e.touches[0].clientX,
                        y: e.clientY || e.touches[0].clientY
                    };
                }

                function startDrag(e) {
                    e.preventDefault();
                    isDragging = true;
                    startTime = Date.now();
                    const pos = getMousePos(e);
                    startPos = { ...pos };
                    lastPos = { ...pos };
                    lastTime = Date.now();
                    
                    circle.classList.add('dragging');
                    
                    const rect = circle.getBoundingClientRect();
                    currentPos = {
                        x: rect.left,
                        y: rect.top
                    };
                    
                    document.addEventListener('mousemove', drag);
                    document.addEventListener('mouseup', endDrag);
                    document.addEventListener('touchmove', drag, { passive: false });
                    document.addEventListener('touchend', endDrag);
                }

                function drag(e) {
                    if (!isDragging) return;
                    e.preventDefault();
                    
                    const pos = getMousePos(e);
                    const deltaX = pos.x - lastPos.x;
                    const deltaY = pos.y - lastPos.y;
                    
                    const nextX = currentPos.x + deltaX;
                    const nextY = currentPos.y + deltaY;
                    
                    // Check for collisions during drag
                    const rect = circle.getBoundingClientRect();
                    const collision = checkCollisions(nextX, nextY, rect);
                    
                    if (!collision) {
                        // No collision, allow movement
                        currentPos.x = nextX;
                        currentPos.y = nextY;
                    }
                    // If there's a collision, don't update position (circle gets "stuck" against element)
                    
                    // Calculate velocity for throwing
                    const currentTime = Date.now();
                    const timeDelta = currentTime - lastTime;
                    if (timeDelta > 0) {
                        velocity.x = deltaX / timeDelta * 16; // Convert to per-frame velocity
                        velocity.y = deltaY / timeDelta * 16;
                    }
                    
                    // Update position
                    circle.style.left = currentPos.x + 'px';
                    circle.style.top = currentPos.y + 'px';
                    circle.style.right = 'auto';
                    
                    lastPos = { ...pos };
                    lastTime = currentTime;
                }

                function endDrag(e) {
                    if (!isDragging) return;
                    
                    const endTime = Date.now();
                    const duration = endTime - startTime;
                    const pos = getMousePos(e);
                    const distance = Math.sqrt(
                        Math.pow(pos.x - startPos.x, 2) + 
                        Math.pow(pos.y - startPos.y, 2)
                    );
                    
                    isDragging = false;
                    circle.classList.remove('dragging');
                    
                    // If it was a quick tap/click (short duration, small distance), change color
                    if (duration < 200 && distance < 10) {
                        const colorName = circle.dataset.color;
                        changeColor(colorName);
                    } else if (Math.abs(velocity.x) > 1 || Math.abs(velocity.y) > 1) {
                        // Start throwing animation
                        startThrow();
                    }
                    
                    // Clean up event listeners
                    document.removeEventListener('mousemove', drag);
                    document.removeEventListener('mouseup', endDrag);
                    document.removeEventListener('touchmove', drag);
                    document.removeEventListener('touchend', endDrag);
                }

                function getCollidableElements() {
                    const selectors = [
                        'h1', '.tagline', '.location', 
                        '.substack-btn', '.instagram-btn',
                        '.app-logo', '.section-title', '.section-subtitle',
                        '.app-store-badge', '.learn-more-btn',
                        '.hero-video', '.section-number'
                    ];
                    
                    const elements = [];
                    selectors.forEach(selector => {
                        const els = document.querySelectorAll(selector);
                        els.forEach(el => {
                            // Skip if it's one of our draggable circles
                            if (!el.classList.contains('color-circle')) {
                                elements.push(el);
                            }
                        });
                    });
                    
                    return elements;
                }

                function checkCollisions(newX, newY, circleRect) {
                    const collidableElements = getCollidableElements();
                    
                    for (let element of collidableElements) {
                        const elementRect = element.getBoundingClientRect();
                        
                        // Check if circle would overlap with element
                        const circleLeft = newX;
                        const circleRight = newX + circleRect.width;
                        const circleTop = newY;
                        const circleBottom = newY + circleRect.height;
                        
                        const elementLeft = elementRect.left;
                        const elementRight = elementRect.right;
                        const elementTop = elementRect.top;
                        const elementBottom = elementRect.bottom;
                        
                        // Check for overlap
                        if (circleRight > elementLeft && 
                            circleLeft < elementRight && 
                            circleBottom > elementTop && 
                            circleTop < elementBottom) {
                            
                            // Calculate overlap amounts
                            const overlapLeft = circleRight - elementLeft;
                            const overlapRight = elementRight - circleLeft;
                            const overlapTop = circleBottom - elementTop;
                            const overlapBottom = elementBottom - circleTop;
                            
                            // Find the side with minimum overlap (closest edge)
                            const minOverlap = Math.min(overlapLeft, overlapRight, overlapTop, overlapBottom);
                            
                            return {
                                element: element,
                                side: minOverlap === overlapLeft ? 'left' :
                                      minOverlap === overlapRight ? 'right' :
                                      minOverlap === overlapTop ? 'top' : 'bottom',
                                overlap: minOverlap
                            };
                        }
                    }
                    
                    return null;
                }

                function startThrow() {
                    // Apply throw multiplier
                    velocity.x *= throwMultiplier;
                    velocity.y *= throwMultiplier;
                    
                    function animate() {
                        // Calculate next position
                        const nextX = currentPos.x + velocity.x;
                        const nextY = currentPos.y + velocity.y;
                        const rect = circle.getBoundingClientRect();
                        
                        // Check collisions with page elements
                        const collision = checkCollisions(nextX, nextY, rect);
                        if (collision) {
                            // Handle collision bounce
                            switch (collision.side) {
                                case 'left':
                                case 'right':
                                    velocity.x = -velocity.x * bounceReduction;
                                    // Adjust position to avoid overlap
                                    if (collision.side === 'left') {
                                        currentPos.x = collision.element.getBoundingClientRect().left - rect.width - 1;
                                    } else {
                                        currentPos.x = collision.element.getBoundingClientRect().right + 1;
                                    }
                                    break;
                                case 'top':
                                case 'bottom':
                                    velocity.y = -velocity.y * bounceReduction;
                                    // Adjust position to avoid overlap
                                    if (collision.side === 'top') {
                                        currentPos.y = collision.element.getBoundingClientRect().top - rect.height - 1;
                                    } else {
                                        currentPos.y = collision.element.getBoundingClientRect().bottom + 1;
                                    }
                                    break;
                            }
                        } else {
                            // No collision, apply normal movement
                            currentPos.x = nextX;
                            currentPos.y = nextY;
                        }
                        
                        // Bounce off window boundaries
                        const windowWidth = window.innerWidth;
                        const windowHeight = window.innerHeight;
                        
                        if (currentPos.x <= 0) {
                            currentPos.x = 0;
                            velocity.x = Math.abs(velocity.x) * bounceReduction;
                        }
                        if (currentPos.x + rect.width >= windowWidth) {
                            currentPos.x = windowWidth - rect.width;
                            velocity.x = -Math.abs(velocity.x) * bounceReduction;
                        }
                        if (currentPos.y <= 0) {
                            currentPos.y = 0;
                            velocity.y = Math.abs(velocity.y) * bounceReduction;
                        }
                        if (currentPos.y + rect.height >= windowHeight) {
                            currentPos.y = windowHeight - rect.height;
                            velocity.y = -Math.abs(velocity.y) * bounceReduction;
                        }
                        
                        // Apply friction
                        velocity.x *= friction;
                        velocity.y *= friction;
                        
                        // Update position
                        circle.style.left = currentPos.x + 'px';
                        circle.style.top = currentPos.y + 'px';
                        
                        // Continue animation if still moving
                        if (Math.abs(velocity.x) > 0.1 || Math.abs(velocity.y) > 0.1) {
                            animationFrame = requestAnimationFrame(animate);
                        }
                    }
                    
                    if (animationFrame) {
                        cancelAnimationFrame(animationFrame);
                    }
                    animate();
                }

                // Event listeners
                circle.addEventListener('mousedown', startDrag);
                circle.addEventListener('touchstart', startDrag, { passive: false });
            });
        }
    </script>
</body>
</html>
